{
  "AWSEBDockerrunVersion": 2,
  "containerDefinitions": [
    {
      "name": "app",
      "image": "ah2002/bid4care-dev:latest",
      "essential": true,
      "environment": [
        {
          "name": "DATABASE_URL",
          "value": "postgres://bid4care-dev:${POSTGRES_PASSWORD}@postgres:5432/bid4care?schema=public"
        },
        { "name": "DATABASE_HOST", "value": "postgres" },
        { "name": "DATABASE_PORT", "value": "5432" },
        { "name": "POSTGRES_USER", "value": "bid4care-dev" },
        { "name": "POSTGRES_PASSWORD", "value": "${POSTGRES_PASSWORD}" },
        { "name": "POSTGRES_DB", "value": "bid4care" },
        { "name": "FRONTEND_URL", "value": "${FRONTEND_URL}" },
        { "name": "JWT_SECRET", "value": "${JWT_SECRET}" },
        { "name": "JWT_EXPIRES_IN", "value": "${JWT_EXPIRES_IN}" },
        { "name": "ENCRYPTION_KEY", "value": "${ENCRYPTION_KEY}" },
        { "name": "NODE_ENV", "value": "${NODE_ENV}" },
        { "name": "STRIPE_CLIENT_ID", "value": "${STRIPE_CLIENT_ID}" },
        {
          "name": "STRIPE_PUBLISHABLE_KEY",
          "value": "${STRIPE_PUBLISHABLE_KEY}"
        },
        { "name": "STRIPE_SECRET_KEY", "value": "${STRIPE_SECRET_KEY}" },
        { "name": "STRIPE_REDIRECT_URI", "value": "${STRIPE_REDIRECT_URI}" },
        { "name": "AWS_ACCESS_KEY", "value": "${AWS_ACCESS_KEY}" },
        { "name": "AWS_SECRET_KEY", "value": "${AWS_SECRET_KEY}" },
        { "name": "AWS_REGION", "value": "${AWS_REGION}" },
        { "name": "AWS_S3_BUCKET_NAME", "value": "${AWS_S3_BUCKET_NAME}" },
        { "name": "TWILIO_ACCOUNT_SID", "value": "${TWILIO_ACCOUNT_SID}" },
        { "name": "TWILIO_AUTH_TOKEN", "value": "${TWILIO_AUTH_TOKEN}" },
        { "name": "TWILIO_PHONE_NUMBER", "value": "${TWILIO_PHONE_NUMBER}" },
        { "name": "PORT", "value": "${PORT}" }
      ],
      "portMappings": [
        {
          "containerPort": 3000,
          "hostPort": 3000
        }
      ]
    },
    {
      "name": "postgres",
      "image": "postgres:14",
      "essential": true,
      "environment": [
        { "name": "POSTGRES_USER", "value": "bid4care-dev" },
        { "name": "POSTGRES_PASSWORD", "value": "${POSTGRES_PASSWORD}" },
        { "name": "POSTGRES_DB", "value": "bid4care" }
      ],
      "mountPoints": [
        {
          "sourceVolume": "postgres_data",
          "containerPath": "/var/lib/postgresql/data"
        }
      ],
      "portMappings": [
        {
          "containerPort": 5432,
          "hostPort": 5432
        }
      ]
    }
  ],
  "volumes": [
    {
      "name": "postgres_data",
      "host": {
        "sourcePath": "/var/lib/postgresql/data"
      }
    }
  ]
}
